{"version":3,"file":"commonHelpers.js","sources":["../src/pixabay-api.js","../src/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(query) {\n  const API_KEY = '44809751-3b2ccf197f9e8e95d68b14f11';\n\n  return fetch(\n    `https://pixabay.com/api?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n}).refresh();\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery-image\"/>\n          </a>\n          <ul class=\"info\">\n            <li class=\"info-item\"> <h2 class=\"info-text\">Likes</h2> <p class=\"info-value\">${likes}</p> </li>\n            <li class=\"info-item\"> <h2 class=\"info-text\">Views</h2> <p class=\"info-value\">${views}</p> </li>\n            <li class=\"info-item\"> <h2 class=\"info-text\">Comments</h2> <p class=\"info-value\">${comments}</p> </li>\n            <li class=\"info-item\"> <h2 class=\"info-text\">Downloads</h2> <p class=\"info-value\">${downloads}</p> </li>\n          </ul>\n        </li>\n    `\n    )\n    .join('');\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n","import { getPictures } from './pixabay-api';\nimport { renderGallery } from './render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst searchForm = document.querySelector('.search-form');\nconst loading = document.querySelector('.loading');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const queryValue = form.elements.query.value.toLowerCase();\n\n  if (queryValue === '') {\n    iziToast.error({\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  loading.style.display = 'flex';\n  gallery.innerHTML = '';\n\n  getPictures(queryValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        renderGallery(data.hits);\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      loading.style.display = 'none';\n    });\n}\n"],"names":["getPictures","query","res","lightbox","SimpleLightbox","renderGallery","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","loading","handleSearch","event","queryValue","iziToast","data","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAGjC,OAAO,MACL,oEAA4CA,CAAK,0DACrD,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCRA,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAAE,QAAO,EAEH,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,qBAESL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4FAG0CC,CAAK;AAAA,4FACLC,CAAK;AAAA,+FACFC,CAAQ;AAAA,gGACPC,CAAS;AAAA;AAAA;AAAA,KAIpG,EACA,KAAK,EAAE,EACVR,EAAQ,UAAYC,EACpBL,EAAS,QAAO,CAClB,CChCA,MAAMI,EAAU,SAAS,cAAc,UAAU,EAC3CS,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAW,iBAAiB,SAAUE,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAGpB,MAAMC,EADOD,EAAM,cACK,SAAS,MAAM,MAAM,cAE7C,GAAIC,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACR,CAAK,EACD,MACD,CACDJ,EAAQ,MAAM,QAAU,OACxBV,EAAQ,UAAY,GAEpBP,EAAYoB,CAAU,EACnB,KAAKE,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBD,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EAEDhB,EAAciB,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMC,GAAS,CACdF,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAQ,MAAM,QAAU,MAC9B,CAAK,CACL"}